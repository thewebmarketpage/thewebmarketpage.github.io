<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SearchPro - Modern JSON Search</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Your existing CSS styles */
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <a href="#" class="logo">Search<span>Pro</span></a>
            <button class="mobile-menu-btn">☰</button>
            <nav>
                <ul id="nav-menu">
                    <li><a href="#" class="active">Home</a></li>
                    <li><a href="#">Advanced Search</a></li>
                    <li><a href="#">Features</a></li>
                    <li><a href="#">API</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <h1>Modern JSON Search</h1>
        <p class="subtitle">Fast, intelligent search across your data</p>
        <section class="search-section">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Enter search term...">
                <button id="search-button">Search</button>
            </div>
            <div class="filters">
                <div class="filter-group">
                    <label for="source-filter">Source:</label>
                    <select id="source-filter" class="filter-select">
                        <option value="all">All Sources</option>
                        <option value="web">Web</option>
                        <option value="docs">Documentation</option>
                        <option value="images">Images</option>
                        <option value="videos">Videos</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="date-filter">Date:</label>
                    <select id="date-filter" class="filter-select">
                        <option value="any">Any Time</option>
                        <option value="day">Past 24 Hours</option>
                        <option value="week">Past Week</option>
                        <option value="month">Past Month</option>
                        <option value="year">Past Year</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="sort-filter">Sort By:</label>
                    <select id="sort-filter" class="filter-select">
                        <option value="relevance">Relevance</option>
                        <option value="date">Date (Newest)</option>
                        <option value="popularity">Popularity</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-checkbox">
                        <input type="checkbox" id="exact-match"> Exact match
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" id="include-similar"> Include similar
                    </label>
                </div>
            </div>
        </section>
        <div id="status-message">Loading data...</div>
        <div id="results-count"></div>
        <div id="search-results"></div>
        <div class="pagination" id="pagination-buttons"></div>
    </main>
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>SearchPro</h3>
                <p>Advanced search solutions for modern applications and data-driven organizations.</p>
                <div class="social-links">
                    <a href="#" aria-label="Twitter">X</a>
                    <a href="#" aria-label="LinkedIn">in</a>
                    <a href="#" aria-label="GitHub">G</a>
                    <a href="#" aria-label="Instagram">I</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Site Links</h3>
                <ul class="footer-links">
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Advanced Search</a></li>
                    <li><a href="#">Features</a></li>
                    <li><a href="#">Documentation</a></li>
                    <li><a href="#">API</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Resources</h3>
                <ul class="footer-links">
                    <li><a href="#">Tutorials</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Knowledge Base</a></li>
                    <li><a href="#">Developers</a></li>
                    <li><a href="#">Support</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Company</h3>
                <ul class="footer-links">
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Careers</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">© 2025 SearchPro. All rights reserved.</div>
    </footer>
    <button class="theme-toggle-btn" id="theme-toggle">☀️</button>
    <script>
        let searchData = [];
        let currentPage = 1;
        const resultsPerPage = 10;

        // Load Data
        async function loadData() {
            const statusMessage = document.getElementById('status-message');
            try {
                const response = await fetch('data.json');
                if (!response.ok) throw new Error('Failed to load data');
                searchData = await response.json();
                statusMessage.textContent = 'Data loaded successfully. Ready to search.';
                setTimeout(() => statusMessage.textContent = '', 3000);
                renderResults(searchData, currentPage);
                document.getElementById('results-count').textContent = `${searchData.length} results found`;
            } catch (error) {
                console.error('Error loading data:', error);
                statusMessage.textContent = 'Error loading data. Please try again.';
            }
        }

        // Get Favicon
        function getFavicon(url) {
            try {
                const domain = new URL(url).hostname;
                return `https://www.google.com/s2/favicons?domain=${domain}`;
            } catch (e) {
                return 'https://www.google.com/s2/favicons?domain=example.com';
            }
        }

        // Highlight Text
        function highlightText(text, searchTerm) {
            if (!text || !searchTerm) return text || '';
            const regex = new RegExp(searchTerm, 'gi');
            return text.replace(regex, match => `<span class="highlight">${match}</span>`);
        }

        // Perform Search
        function performSearch() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const results = searchData.filter(item =>
                Object.values(item).some(value =>
                    (typeof value === 'string' && value.toLowerCase().includes(searchTerm)) ||
                    (Array.isArray(value) && value.some(keyword => keyword.toLowerCase().includes(searchTerm)))
            );
            currentPage = 1;
            document.getElementById('results-count').textContent = `${results.length} results found`;
            renderResults(results, currentPage);
            renderPagination(results.length);
        }

        // Render Results
        function renderResults(results, page) {
            const resultsContainer = document.getElementById('search-results');
            const startIndex = (page - 1) * resultsPerPage;
            const endIndex = Math.min(startIndex + resultsPerPage, results.length);
            resultsContainer.innerHTML = results.slice(startIndex, endIndex).map(result => `
                <div class="result-item">
                    <img class="icon" src="${getFavicon(result.link)}" alt="icon">
                    <div>
                        <h2><a href="${result.link}" target="_blank">${highlightText(result.title, document.getElementById('search-input').value)}</a></h2>
                        <div class="result-url">${result.link}</div>
                        <div class="result-time">${highlightText(result.time, document.getElementById('search-input').value)}</div>
                        <div class="result-keywords">Keywords: ${result.keywords ? result.keywords.map(keyword => highlightText(keyword, document.getElementById('search-input').value)).join(', ') : ''}</div>
                        <div class="result-description">${highlightText(result.description, document.getElementById('search-input').value)}</div>
                        <div class="result-code"><pre>${highlightText(result.code, document.getElementById('search-input').value)}</pre></div>
                    </div>
                </div>
            `).join('');
        }

        // Render Pagination
        function renderPagination(resultCount) {
            const paginationContainer = document.getElementById('pagination-buttons');
            const totalPages = Math.ceil(resultCount / resultsPerPage);
            paginationContainer.innerHTML = Array.from({ length: totalPages }, (_, i) => `
                <button class="${i + 1 === currentPage ? 'active' : ''}" onclick="changePage(${i + 1})">${i + 1}</button>
            `).join('');
        }

        // Change Page
        function changePage(page) {
            currentPage = page;
            performSearch();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            await loadData();
            document.getElementById('search-button').addEventListener('click', performSearch);
            document.getElementById('search-input').addEventListener('input', () => performSearch());
        });
    </script>
</body>
</html>