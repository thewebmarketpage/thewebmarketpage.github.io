<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Render</title>
    <script src="https://cdn.jsdelivr.net/npm/@unocss/runtime"></script>
    <script src="https://cdn.jsdelivr.net/npm/twind"></script>
    <style>
        body { font-family: sans-serif; }
        textarea { width: 100%; height: 200px; }
        iframe { width: 100%; height: 400px; border: 1px solid #ccc; }
    </style>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center p-4">
    <h1 class="text-2xl font-bold">Fetch and Render HTML</h1>
    <button class="bg-blue-500 px-4 py-2 rounded mt-4" onclick="fetchText()">Fetch HTML</button>
    <textarea id="htmlContent" class="mt-4"></textarea>
    <button class="bg-green-500 px-4 py-2 rounded mt-4" onclick="renderHTML()">Render</button>
    <iframe id="preview" class="mt-4"></iframe>

    <script>
        async function fetchText() {
            try {
                let response = await fetch('https://textdoc.co/gk9mLzR8JBTnGcYQ');
                let text = await response.text();

                // Find the wanted text
                let startIndex = text.indexOf('<!DOCTYPE html>');
                if (startIndex !== -1) {
                    text = text.substring(startIndex);
                } else {
                    alert('Wanted text not found.');
                    return;
                }

                // Remove "create folder" form if present
                text = text.replace(/<form[^>]*>[\s\S]*?create folder[\s\S]*?<\/form>/gi, '');

                document.getElementById('htmlContent').value = text;
            } catch (error) {
                console.error('Error fetching:', error);
                alert('Failed to fetch content.');
            }
        }

        function renderHTML() {
            let content = document.getElementById('htmlContent').value;
            let iframe = document.getElementById('preview').contentWindow.document;
            iframe.open();
            iframe.write(content);
            iframe.close();
        }
    </script>
</body>
</html>
